{
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "Register a new user",
        "description": "Creates a new user account and initializes user preferences.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string", "example": "Jane Doe" },
                  "email": { "type": "string", "example": "jane@example.com" },
                  "password": { "type": "string", "example": "password123" }
                },
                "required": ["name", "email", "password"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "token": "jwt.token.here",
                  "user": {
                    "_id": "652b47aa12f1c9f0b9a3c9d2",
                    "name": "Jane Doe",
                    "email": "jane@example.com"
                  }
                }
              }
            }
          },
          "400": { "description": "User already exists" },
          "500": { "description": "Registration failed" }
        }
      }
    },

    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "User login",
        "description": "Authenticates a user using email and password.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "example": "jane@example.com" },
                  "password": { "type": "string", "example": "password123" }
                },
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "example": {
                  "message": "Login successful",
                  "user": {
                    "_id": "652b47aa12f1c9f0b9a3c9d2",
                    "name": "Jane Doe",
                    "email": "jane@example.com",
                    "role": "user"
                  }
                }
              }
            }
          },
          "401": { "description": "Invalid credentials" },
          "404": { "description": "User not found" }
        }
      }
    },

    "/auth/google/callback": {
      "get": {
        "tags": ["Auth"],
        "summary": "Google OAuth callback",
        "description": "Callback endpoint for Google login using Passport.js",
        "responses": {
          "200": {
            "description": "Google login successful",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "message": "Google login successful",
                  "user": {
                    "id": "652b47aa12f1c9f0b9a3c9d2",
                    "name": "Jane Doe",
                    "email": "jane@gmail.com",
                    "avatar": "https://lh3.googleusercontent.com/profile.jpg",
                    "role": "user"
                  }
                }
              }
            }
          },
          "500": { "description": "Google authentication failed" }
        }
      }
    },

    "/auth/reset-password": {
      "post": {
        "tags": ["Auth"],
        "summary": "Send password reset email",
        "description": "Sends a password reset link to the user’s email.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "example": "jane@example.com" }
                },
                "required": ["email"]
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Password reset link sent" },
          "404": { "description": "No user found with that email" },
          "500": { "description": "Email could not be sent" }
        }
      }
    },

    "/auth/reset-password/{token}": {
      "put": {
        "tags": ["Auth"],
        "summary": "Reset password using token",
        "description": "Resets the user’s password using a valid token from the reset email.",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": { "type": "string" },
            "description": "The reset token received via email"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": { "type": "string", "example": "newSecurePassword123" }
                },
                "required": ["password"]
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Password successfully reset" },
          "400": { "description": "Invalid or expired token" },
          "500": { "description": "Server error" }
        }
      }
    },

    "/auth/logout": {
      "post": {
        "tags": ["Auth"],
        "summary": "Logout user",
        "description": "Clears the JWT cookie to log the user out.",
        "responses": {
          "200": {
            "description": "Logged out successfully",
            "content": {
              "application/json": {
                "example": { "message": "Logged out successfully" }
              }
            }
          }
        }
      }
    }
  }
}

